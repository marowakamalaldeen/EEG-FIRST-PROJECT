#âœ… Sort 31,553 points into regions based on Cerebra ID
#âœ… Compute RMS per time activation for each region
#âœ… Visualize each region's RMS separately and plot them
# --------------------- Execution ---------------------
while True:
    subject_id = input("Enter Subject ID (or type 'exit' to quit): ").strip()
    if subject_id.lower() == "exit":
        break

    print("\nğŸ”¹ Step 1: Load Video Data ğŸ”¹")
    videodata = load_subject_video_data1()

    print("\nğŸ”¹ Step 2: Load Region Mapping Data (CSV) ğŸ”¹")
    region_data = load_region_data1()

    map_voxel = np.random.randint(1, 103, size=31335)  # Simulated voxel-to-region mapping

    try:
        avg_rms_time_series, region_name_map = compute_rms_time_series2(videodata, map_voxel, region_data)
        print("\nâœ… RMS Computation and Sorting Complete.")
        plot_rms_time_series2(avg_rms_time_series, region_name_map)
    except (KeyError, FileNotFoundError, ValueError) as e:
        print(f"âŒ Error: {e}")

    print("\nğŸ”„ Execution completed. Restarting for a new subject.\n")
